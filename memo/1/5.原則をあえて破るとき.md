# 原則をあえて破るとき

## TODOリスト

- [ ] $5+10CHF=$10(レートが 2:1 の場合)
- [x] $5 * 2=$10
- [x] amountをprivateにする
- [x] Dollarの副作用どうする？
- [ ] Moneyの丸め処理どうする？
- [x] equals()
- [ ] hashCode()
- [ ] nullとの等価性比較
- [ ] 他のオブジェクトの等価性比較

一番上の面白そうな項目やってみたいけど、着手まで至っていない。なぜかというと、すぐにコードが実装できるような *テストを書ける自信がないから。*

何が必要なのか？
-> DollarのようなFrancオブジェクト(作成できると異通貨のテストができそう。)

シンプルにコピペ(DollarからFranc)して再利用するのは抽象化の敗北。きれいな設計を殺す。サイクルにはフェーズがある。

テスト書く -> コンパイラ通す -> テストで失敗を確認 -> テスト通す -> 重複排除

最初の3つはなるべく早く通過すること。
新機能がどの状態にあるかわかるところまでいきたい。そのためには罪を犯してOK。
なぜなら速度が設計よりも重要だから。あと重複排除するフェーズがある。そこで正しい設計をすればいいことっぽい。
## TODOリスト

- [ ] $5+10CHF=$10(レートが 2:1 の場合)
- [x] $5 * 2=$10
- [x] amountをprivateにする
- [x] Dollarの副作用どうする？
- [ ] Moneyの丸め処理どうする？
- [x] equals()
- [ ] hashCode()
- [ ] nullとの等価性比較
- [ ] 他のオブジェクトの等価性比較
- [x] 5CHF * 2 = 10CHF
- [ ] DollarとFrancの重複
- [ ] equalsの一般化
- [ ] timesの一般化

Francの掛け算テストはできたけど、
重複が大量発生している。

## やったこと

- 大きいテストに立ち向かうのはまだ難しそうだったので、次の一歩のための小さめなテストを出す
- とりあえず、コピペでテストを作成
- そしてとりあえずコピペでクラスを作成しテストを通した
- 重複は排除しないといけないのでTODOに追加
