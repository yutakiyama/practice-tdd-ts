# 意図を語るテスト

## TODO リスト

- [ ] $5+10CHF=$10(レートが 2:1 の場合)
- [x] $5 \* 2=$10
- [x] amount を private にする
- [x] Dollar の副作用どうする？
- [ ] Money の丸め処理どうする？
- [x] equals()
- [ ] hashCode()
- [ ] null との等価性比較
- [ ] 他のオブジェクトの等価性比較

これまで書いたテストの意図が分かりづらい。

- 掛け算のテスト
  - Dollar 同士を直接比較する。
  - 一時変数 product は用をなさなくなったので、inline 化する。

上記で意図を語るようになった。

amount フィールドを使うのは Dollar クラス自身だけになったので、private にできる。した。

## やったこと

- 作成したばかりの昨日を使って、テストを改善
- そもそも正しくけんしょうできていないテストが２つあったらお手上げ
- そのようなリスクを受け入れ先に進む
- テスト対象オブジェクトの新しい機能を使い、テストコードとプロダクトコードの間の結合度を下げた
